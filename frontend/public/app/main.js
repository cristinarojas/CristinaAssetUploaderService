!function(e){function t(t){for(var a,o,c=t[0],s=t[1],i=t[2],m=0,p=[];m<c.length;m++)o=c[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);p.length;)p.shift()();return l.push.apply(l,i||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},l=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=s;l.push([13,1]),n()}({1:function(e,t,n){e.exports={mainContainer:"src-components-uploader-Uploader__mainContainer--1ttEb",allFileContainer:"src-components-uploader-Uploader__allFileContainer--Z3Fgg",uploaderContainer:"src-components-uploader-Uploader__uploaderContainer--3yJ-Y",selectorContainer:"src-components-uploader-Uploader__selectorContainer--1QBfU",customFileUpload:"src-components-uploader-Uploader__customFileUpload--3VKat",uploadAWS:"src-components-uploader-Uploader__uploadAWS--vYqAf",fileContainer:"src-components-uploader-Uploader__fileContainer--H3aTC",fileInfo:"src-components-uploader-Uploader__fileInfo--1QC45",documentFile:"src-components-uploader-Uploader__documentFile--2pw-T"}},10:function(e,t,n){e.exports={menuContainer:"src-components-shared-Menu-Menu__menuContainer--2zyN5"}},11:function(e,t,n){e.exports={messageContainer:"src-components-shared-message-Message__messageContainer--WCrZO"}},13:function(e,t,n){e.exports=n(26)},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),o=n(12),c=n(10),s=n.n(c),i=[{name:"My tech blog",link:"https://learntechsystems.com/"},{name:"Linkedin",link:"https://www.linkedin.com/in/cristina-elizabeth-rojas-zamora-a7076249/"},{name:"Github",link:"https://github.com/cristinarojas"}],u=function(){return r.a.createElement("section",{className:s.a.menuContainer},r.a.createElement("nav",null,r.a.createElement("ul",null,i?i.map((function(e,t){return r.a.createElement("li",{key:"index-".concat(t)},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.name),r.a.createElement("img",{src:"/images/crissFavicon.png",alt:e.name}))})):"")))},m=n(4),p=n.n(m),f=function(){return r.a.createElement("section",{className:p.a.headerContainer},r.a.createElement("section",{className:p.a.logo},r.a.createElement("img",{src:"/images/logo.png",alt:"Logo"}),r.a.createElement("h1",null,"Cristina Rojas . Uploader")),r.a.createElement(u,null))},d=n(2),g=n.n(d),h=n(3),E=n.n(h),b=n(5),v=n.n(b),_=n(6),y=n.n(_),C=Object(a.createContext)({state:{}}),j=function(e){e.id;var t=e.children,n=Object(a.useState)({}),l=g()(n,2),o=l[0],c=(l[1],Object(a.useState)("")),s=g()(c,2),i=s[0],u=s[1],m=Object(a.useState)([]),p=g()(m,2),f=p[0],d=p[1],h=function(){var e=v()(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,y()("http://localhost:5000/upload",{method:"POST",body:n});case 4:return a=e.sent,e.next=7,a.json();case 7:return(r=e.sent)&&(b(),u(r.Location)),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=v()(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("http://localhost:5000/files",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,d(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_={state:o,uploadFile:h,url:i,showFiles:b,allFiles:f};return r.a.createElement(C.Provider,{value:_},t)},O=n(7),F=n.n(O),x=function(){var e=Object(a.useContext)(C),t=e.showFiles,n=e.allFiles;return Object(a.useEffect)((function(){t()}),[]),r.a.createElement("section",{className:F.a.fileList},r.a.createElement("h2",null,"Current files in S3: "),r.a.createElement("ul",{className:F.a.files},n&&n.map((function(e,t){var n=e.Key.includes(".jpg")||e.Key.includes(".png");return console.log("imgType ---\x3e",n),r.a.createElement("li",{key:"file-".concat(t)},n?r.a.createElement("img",{src:"https://cristinaassetuploaderservice.s3-us-west-1.amazonaws.com/".concat(e.Key)}):r.a.createElement("img",{src:"/images/document.png"}),r.a.createElement("span",null,r.a.createElement("span",null,"File Name: ",r.a.createElement("i",{className:"fa fa-cloud-upload"})),e.Key))}))))},w=n(11),N=n.n(w),S=function(e){var t=e.url;return r.a.createElement("section",{className:N.a.messageContainer},r.a.createElement("span",null,"File uploaded successfully at:"),r.a.createElement("p",null,t))},U=n(1),k=n.n(U),L=function(){var e=Object(a.useState)(0),t=g()(e,2),n=t[0],l=(t[1],Object(a.useState)(!1)),o=g()(l,2),c=(o[0],o[1]),s=Object(a.useState)(null),i=g()(s,2),u=i[0],m=i[1],p=Object(a.useState)(),f=g()(p,2),d=f[0],h=f[1],E=Object(a.useContext)(C),b=E.uploadFile,v=E.url;Object(a.useEffect)((function(){if(u){var e=URL.createObjectURL(u);h(e)}else h(null)}),[u]);return r.a.createElement("section",{className:k.a.mainContainer},r.a.createElement("section",{className:k.a.allFileContainer},r.a.createElement(x,{filesInS3:n})),r.a.createElement("section",{className:k.a.uploaderContainer},r.a.createElement("section",{className:k.a.selectorContainer},r.a.createElement("label",{htmlFor:"fileUpload",className:k.a.customFileUpload},r.a.createElement("i",{className:"fa fa-cloud-upload"})," Select file"),r.a.createElement("input",{id:"fileUpload",type:"file",name:"file",onChange:function(e){return function(e){e.target.files&&0!==e.target.files.length?m(e.target.files[0]):m(null)}(e)}}),u?r.a.createElement("label",{onClick:function(){b(u),c(!0)},className:k.a.uploadAWS},"Upload to S3"):""),r.a.createElement("section",{className:k.a.fileContainer},u?r.a.createElement("label",{className:k.a.fileInfo},u.name):"",u&&u.type.includes("image")&&r.a.createElement("img",{src:d,className:k.a.imgFile}),u&&u.type.includes("application")&&r.a.createElement("section",{className:k.a.documentFile},r.a.createElement("img",{src:"/images/document.png"}))),v?r.a.createElement(S,{url:v}):""))};var P,M=function(){return r.a.createElement(j,null,r.a.createElement(f,null),r.a.createElement(L,null))},T=document.querySelector("#root");P=M,Object(l.render)(r.a.createElement(o.AppContainer,null,r.a.createElement(P,null)),T)},4:function(e,t,n){e.exports={headerContainer:"src-components-header-Header__headerContainer--33vDY",logo:"src-components-header-Header__logo--NlciW"}},7:function(e,t,n){e.exports={fileList:"src-components-fileList-FileList__fileList--3vqvh",files:"src-components-fileList-FileList__files--2xVor"}}});